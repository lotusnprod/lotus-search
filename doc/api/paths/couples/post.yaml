post:
  operationId: searchCouples
  security: []
  summary: |
    Search couples using parameters
  description: |
    Search couples using parameters. Additional parameters allow to specify the kind of search and the parameters.
  requestBody:
    description: Query
    required: true
    content:
      application/json:
        schema:
          type: object
          properties:
            #' Structures.
            structure_wid:
              description: |
                Wikidata identifier of the structure (without the Q).
              default: ~
              example: 2079986
              type: integer

            molecule:
              description: |
                A MOL file or SMILES of the structure of the structure or part of it.
              default: ~
              example: C1=CC=CC=C1
              type: string

            substructure_search:
              description: |
                Search by substructure
              default: false
              example: false
              type: boolean

            similarity_level:
              description: |
                Similarity level cut-off (basic tanimoto-like search). Does nothing is substructure_search is true.
              default: 1
              example: 0.8
              type: number

            #' Taxa.
            taxon_wid:
              description: |
                Wikidata identifier of the taxon (without the Q).
              default: ~
              example: 158572
              type: integer
            taxon_name:
              description: |
                The name searched (can be partial and slightly incorrect)
              default: ~
              # The mistake is on purpose
              example: "Gentiana luteha"
              type: string

            # taxon_children:
            #   description: |
            #     Whether to include the children of the taxon
            #   default: true
            #   example: true
            #   type: boolean

  responses:
    '200':
      description: At least one couple matching the given query was found
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '../../schemas/couple.yaml'
    '404':
      description: No couple matching the given query could be found
      content:
          application/json:
              schema:
                type: object
                properties:
                    message:
                      type: string
                      example: No couple matching the given query could be found
